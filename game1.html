<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Ultimate Neon Game</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{
  margin:0;
  background:radial-gradient(circle at top,#111,#000);
  font-family:Arial;
  overflow:hidden;
  color:white;
}
canvas{
  display:block;
  margin:auto;
  background:black;
  box-shadow:0 0 40px #00ffcc;
  border-radius:12px;
}
#menu,#gameOver{
  position:absolute;
  inset:0;
  background:rgba(0,0,0,.9);
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  z-index:10;
}
button{
  margin:8px;
  padding:12px 30px;
  border:none;
  border-radius:25px;
  background:#00ffcc;
  font-size:16px;
  cursor:pointer;
  box-shadow:0 0 15px #00ffcc;
}
h1{color:#00ffcc;text-shadow:0 0 15px #00ffcc}
#ui{
  position:absolute;
  top:10px;
  left:10px;
  color:#00ffcc;
  text-shadow:0 0 8px #00ffcc;
}
.skin{
  width:30px;
  height:30px;
  margin:5px;
  display:inline-block;
  cursor:pointer;
  border:2px solid white;
}
</style>
</head>
<body>

<div id="menu">
  <h1>ULTIMATE NEON GAME</h1>
  <p>Select Skin</p>
  <div>
    <div class="skin" style="background:#00ffcc" onclick="setSkin('#00ffcc')"></div>
    <div class="skin" style="background:#ff0055" onclick="setSkin('#ff0055')"></div>
    <div class="skin" style="background:#ffff00" onclick="setSkin('#ffff00')"></div>
  </div>
  <button onclick="startGame()">START</button>
</div>

<div id="gameOver" style="display:none">
  <h1>GAME OVER</h1>
  <button onclick="location.reload()">RESTART</button>
</div>

<div id="ui">
Score: <span id="score">0</span><br>
Level: <span id="level">1</span><br>
Boss: <span id="boss">NO</span>
</div>

<canvas id="game" width="600" height="400"></canvas>

<!-- Sounds -->
<audio id="bgm" loop>
  <source src="https://cdn.pixabay.com/audio/2022/03/15/audio_6f8c7f9d52.mp3">
</audio>
<audio id="hit">
  <source src="https://cdn.pixabay.com/audio/2022/03/10/audio_97c6f90f88.mp3">
</audio>

<script>
const canvas=document.getElementById("game");
const ctx=canvas.getContext("2d");
const scoreEl=document.getElementById("score");
const levelEl=document.getElementById("level");
const bossEl=document.getElementById("boss");
const bgm=document.getElementById("bgm");
const hitSound=document.getElementById("hit");

let score=0,level=1,paused=false,gameOver=false;
let enemies=[],boss=null;

const player={
  x:280,y:340,size:20,speed:6,color:"#00ffcc"
};

function setSkin(c){player.color=c}

document.addEventListener("keydown",e=>{
  if(e.key==="ArrowLeft")player.x-=player.speed;
  if(e.key==="ArrowRight")player.x+=player.speed;
  if(e.key.toLowerCase()==="p")paused=!paused;
});

canvas.addEventListener("touchmove",e=>{
  player.x=e.touches[0].clientX-canvas.offsetLeft;
});

function startGame(){
  document.getElementById("menu").style.display="none";
  bgm.volume=0.4;
  bgm.play();
  spawnEnemies();
  gameLoop();
}

function spawnEnemies(){
  setInterval(()=>{
    if(!paused&&!gameOver){
      enemies.push({
        x:Math.random()*(canvas.width-20),
        y:-20,
        size:20,
        speed:3+level
      });
    }
  },700);
}

function spawnBoss(){
  boss={
    x:200,y:-60,size:80,hp:20+level*5,speed:1
  };
  bossEl.textContent="YES";
}

function drawPlayer(){
  ctx.fillStyle=player.color;
  ctx.shadowBlur=20;
  ctx.shadowColor=player.color;
  ctx.fillRect(player.x,player.y,player.size,player.size);
  ctx.shadowBlur=0;
}

function drawEnemies(){
  ctx.fillStyle="#ff0055";
  enemies.forEach(e=>{
    ctx.fillRect(e.x,e.y,e.size,e.size);
    e.y+=e.speed;
    if(collision(e,player))endGame();
  });
}

function drawBoss(){
  if(!boss)return;
  ctx.fillStyle="#ff8800";
  ctx.shadowBlur=20;
  ctx.shadowColor="#ff8800";
  ctx.fillRect(boss.x,boss.y,boss.size,boss.size);
  ctx.shadowBlur=0;
  boss.y+=boss.speed;
  if(collision(boss,player))endGame();
}

function collision(a,b){
  return a.x<b.x+b.size&&a.x+a.size>b.x&&a.y<b.y+b.size&&a.y+a.size>b.y;
}

function endGame(){
  hitSound.play();
  gameOver=true;
  bgm.pause();
  document.getElementById("gameOver").style.display="flex";
}

function gameLoop(){
  if(gameOver)return;
  if(!paused){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    drawPlayer();
    drawEnemies();
    drawBoss();

    enemies=enemies.filter(e=>e.y<canvas.height+30);

    score++;
    if(score%500===0){level++;levelEl.textContent=level;}
    if(score%1500===0&&!boss)spawnBoss();
    if(boss&&boss.y>canvas.height)boss=null,bossEl.textContent="NO";

    scoreEl.textContent=score;
  }
  requestAnimationFrame(gameLoop);
}
</script>

</body>
</html>
